<html>


<body>
    <div> this overview </div>
    <ul>
        <li>step by step</li>
        <li>day day up</li>
    </ul>
    <script>
        // 1.0 with or without strict mode when the default value is winodw or undefined  

        
        
        
        // 2.0 Explicit Binding: funciton with call(),apply() and bind()
        
        // 2.0.1
        function func(arg1, arg2) {
            console.log(this);
            console.log(arg1);
            console.log(arg2);
        }

        func.call("a", "b", "c");
        func.call("a", ["b", "c"]);

        var obj = {
            method: function() {
                console.log(this === obj)
            }
        }
        obj.method.call(obj);
        
        
        // 2.0.2 
            function foo() {
            console.log(this.a);
        }
        var obj = {
            a: 2
        }
        var bar = function() {
            foo.call(obj);// hard binding 
        }
        bar.call(window);
        
        setTimeout(bar,100);        
        
        
        //2.0.3 
        function foo(something){
        console.log(this.a,something);
        return this.a + something;
}
        var obj = {
        a:2
}
        var bar = function(){
        return foo.apply(obj,arguments);
            
}
        
        var b  = bar(3);
        console.log(b);  
        
        
        // 2.0.4 
        function foo(something) {
        console.log(this.a, something);
        return this.a + something;
        }
        var obj = {
            a: 2
        }
        var bar = foo.bind(obj);
        var b = bar(3);
        console.log(b);
        
        
        // 2.0.5 
        function foo(el) {
        console.log(el, this.id)
        }
        var obj = {
            id: "test"
        };
        [1, 2, 3].forEach(foo, obj);        
        

        // 3.0 this in constructor 

        var savedThis;

        function Constr() {
            savedThis = this;
            console.log(this);
        }

        var inst = new Constr();
        console.log(savedThis === inst);

        
        
        // 4.0 without new  
        function Point(x, y) {
            this.x = x;
            this.y = y;
        }
        var p = Point(7, 5);
        console.log(p === undefined);
        console.log(x);
        console.log(y);
        //  apply strict mode to have a warning 

      
       

        console.log(Counter.count);

        // 6.0  shadowing  this   or   Implicit Binding and lost  
        // 6.0.1
        
        var obj = {
            name: 'Jane',
            friends: ['Tarzan', 'Cheeta'],
            loop: function() {
                'use strict';
                this.friends.forEach(
                    function(friend) {
                        console.log(this.name + ' knows ' + friend);
                    }
                );
            }
        };
        // obj.loop(); // TypeError: Cannot read property 'name' of undefined
        
        
        var obj = {
            name: 'hello world ',
            friends: ['test hello world']
        }
        obj.loop = function() {
                this.friends.forEach(
                    function(friend) {
                        console.log(this === window);
                    });
        }
        obj.loop();
        
        // 6.0.2
         function callIt(func) {
            func();
        }
        var Counter = {
            count: 0,
            inc: function() {
                this.count++;
            }
        }
        //callIt(Counter.inc)();
        // didnot work out Because the this in counter inc  is set to window object        
                

    </script>
</body>

</html>
