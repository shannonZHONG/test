<html>


<body>
    <div> this overview </div>
    <ul>
        <li></li>
        <li>/li>
        <li>3.0.1 why we need this ?</li>
        <li> 3.0.2 how to apply this? </li>      
    </ul>
    <script>
        // 1.0.0 with or without strict mode when the default value is winodw or undefined  
        function f(){
        'use strict'
        console.log(this)
        }
        f.call(1) // 数字1 
        
        // 1.0.1
        function f(){
        console.log(this)
        }
        f.call(1) // 对象1 
        
        //1.0.2
        function f(){
        console.log(this)
        }
        f.call() // window 
        f()// window
        
        //1.0.3
        function f(){
        'use strict'
        console.log(this)
        }
        f.call() // undefined
        f() // undefined 
              
        
        // 2.0 Explicit Binding: funciton with call(),apply() and bind()
        
        // 2.0.1 call method 的第一个参数 是什么？
        var obj = {
            method: function() {
                console.log(this === obj)
            }
        }
        obj.method.call(obj);
        
        
        
        
       
        

        
        
  
  
        
        
       
       
        

        


    
        
   
        
        
      
        
        
        
       
        
          
                
        
        
        
        
        

      

    

        // 5.0  shadowing  this   or   Implicit Binding and lost  
         
        // 5.0.1  what happens if we attach is to the object dynamically  
        var obj = {
            name: 'Jane',
            friends: ['Tarzan', 'Cheeta'],
            loop: function() {
                'use strict';
                this.friends.forEach(
                    function(friend) {
                        console.log(this.name + ' knows ' + friend);
                    }
                );
            }
        };
        // obj.loop(); 
        // TypeError: Cannot read property 'name' of undefined
     
        
        
        var obj = {
            name: 'hello world ',
            friends: ['test hello world']
        }
        obj.loop = function() {
                this.friends.forEach(
                    function(friend) {
                        console.log(this === window);
                    });
        }
        obj.loop();
        
        
        
        Day = {
            whatDay: "monday",
            test: function(thing) {
                console.log(this + " is " + thing);
            }
        };

        Day.test.call(Day, "sunnyDay")   
        
        
        
        // 5.0.2
        function callIt(func) {
            func();
        }
        var Counter = {
            count: 0,
            inc: function() {
                this.count++;
            }
        }
        //callIt(Counter.inc)();
        // didnot work out Because the this in counter inc  is set to window object        
           
        // 5.0.3
        // obj.foo 相当于是被 window 这个object call  所以是隐式绑定 
        function foo() {
          console.log(this.a);
        }

        function doFoo(fn) {
           
            fn(); 
        }
        
        var obj = {
            a: 2,
            foo: foo
        };
        
        var a = "oops, global"; 
        doFoo( obj.foo ); //oops, global
                
        

        
      
        
     </script>
</body>

</html>
